From a30e34d0fd2a39440b66c6d39eb2a8942716c02c Mon Sep 17 00:00:00 2001
From: mochangming <mochangming@xiaomi.com>
Date: Mon, 27 Aug 2012 17:29:21 +0800
Subject: [PATCH] add MmiCode state: NW_TERMINITED

---
 Phone/smali/com/android/phone/PhoneUtils$2.smali   |   14 +-
 Phone/smali/com/android/phone/PhoneUtils$3.smali   |   16 +-
 Phone/smali/com/android/phone/PhoneUtils$4.smali   |   26 +-
 Phone/smali/com/android/phone/PhoneUtils$5.smali   |   35 +-
 .../android/phone/PhoneUtils$CallerInfoToken.smali |    2 +-
 ...honeUtils$VoiceMailNumberMissingException.smali |    8 +-
 Phone/smali/com/android/phone/PhoneUtils.smali     |  968 ++++++++++----------
 7 files changed, 553 insertions(+), 516 deletions(-)

--- a/Phone/smali/com/android/phone/PhoneUtils$5.smali
+++ b/Phone/smali/com/android/phone/PhoneUtils$5.smali
@@ -46,7 +46,7 @@
 
     aput v2, v0, v1
     :try_end_0
-    .catch Ljava/lang/NoSuchFieldError; {:try_start_0 .. :try_end_0} :catch_3
+    .catch Ljava/lang/NoSuchFieldError; {:try_start_0 .. :try_end_0} :catch_4
 
     :goto_0
     :try_start_1
@@ -62,7 +62,7 @@
 
     aput v2, v0, v1
     :try_end_1
-    .catch Ljava/lang/NoSuchFieldError; {:try_start_1 .. :try_end_1} :catch_2
+    .catch Ljava/lang/NoSuchFieldError; {:try_start_1 .. :try_end_1} :catch_3
 
     :goto_1
     :try_start_2
@@ -78,7 +78,7 @@
 
     aput v2, v0, v1
     :try_end_2
-    .catch Ljava/lang/NoSuchFieldError; {:try_start_2 .. :try_end_2} :catch_1
+    .catch Ljava/lang/NoSuchFieldError; {:try_start_2 .. :try_end_2} :catch_2
 
     :goto_2
     :try_start_3
@@ -94,28 +94,49 @@
 
     aput v2, v0, v1
     :try_end_3
-    .catch Ljava/lang/NoSuchFieldError; {:try_start_3 .. :try_end_3} :catch_0
+    .catch Ljava/lang/NoSuchFieldError; {:try_start_3 .. :try_end_3} :catch_1
 
     :goto_3
+    :try_start_4
+    sget-object v0, Lcom/android/phone/PhoneUtils$5;->$SwitchMap$com$android$internal$telephony$MmiCode$State:[I
+
+    sget-object v1, Lcom/android/internal/telephony/MmiCode$State;->NW_TERMINITED:Lcom/android/internal/telephony/MmiCode$State;
+
+    invoke-virtual {v1}, Lcom/android/internal/telephony/MmiCode$State;->ordinal()I
+
+    move-result v1
+
+    const/4 v2, 0x5
+
+    aput v2, v0, v1
+    :try_end_4
+    .catch Ljava/lang/NoSuchFieldError; {:try_start_4 .. :try_end_4} :catch_0
+
+    :goto_4
     return-void
 
     :catch_0
     move-exception v0
 
-    goto :goto_3
+    goto :goto_4
 
     :catch_1
     move-exception v0
 
-    goto :goto_2
+    goto :goto_3
 
     :catch_2
     move-exception v0
 
-    goto :goto_1
+    goto :goto_2
 
     :catch_3
     move-exception v0
 
+    goto :goto_1
+
+    :catch_4
+    move-exception v0
+
     goto :goto_0
 .end method
--- a/Phone/smali/com/android/phone/PhoneUtils.smali
+++ b/Phone/smali/com/android/phone/PhoneUtils.smali
@@ -673,6 +673,19 @@
     .restart local v12       #text:Ljava/lang/CharSequence;
     goto :goto_1
 
+    .end local v12           #text:Ljava/lang/CharSequence;
+    :pswitch_4
+    const v14, 0x7f0c03f3
+
+    move-object/from16 v0, p1
+
+    invoke-virtual {v0, v14}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;
+
+    move-result-object v12
+
+    .restart local v12       #text:Ljava/lang/CharSequence;
+    goto :goto_1
+
     :cond_4
     invoke-virtual {v2}, Lcom/android/phone/PhoneApp;->getPUKEntryActivity()Landroid/app/Activity;
 
@@ -898,6 +911,7 @@
         :pswitch_1
         :pswitch_2
         :pswitch_3
+        :pswitch_4
     .end packed-switch
 .end method
 
-- 
1.7.1

